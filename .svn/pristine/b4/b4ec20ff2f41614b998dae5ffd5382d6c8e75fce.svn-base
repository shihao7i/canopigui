angular.module('admin.service').service('TaskSearchService', ['$q', '$http', '$log', 'AdminGuiConstants', 
                              function ($q, $http,$log, AdminGuiConstants) {
	
	'use strict';
	
        var baseUrl = '/gui-canopi-js/src/app/admin-app/mock/tasks/';
        
//        if (!MOCK_DATA_FLAG)
//        	baseUrl = '/canopigui/app/admin-app/mock/tasks/';
	
        /* Gets the the tasktypes
         *
         * @param taskType
         * @param options Optional parameters to configure the request
         * @returns {*} Promise
         */
        this.getTaskType = function (taskType, options) {
            var deferred = $q.defer();
            $http.get(baseUrl + taskType + '.json').success(function (response) {
                deferred.resolve(response);
            });

            return deferred.promise;
        };
        
        
	this.getSearchResults = function () {

            var deferred = $q.defer();
            $http.get(baseUrl + 'results.json').success(function (response) {
                 deferred.resolve(response);
            });
       
            return deferred.promise; 
	};
        
        this.getTasks = function (workorderType) {
            
            if (!workorderType) workorderType = '';

            var deferred = $q.defer();
            $http.get(baseUrl + workorderType + 'tasklist.json').success(function (response) {
                 deferred.resolve(response);
            });
       
            return deferred.promise; 
	};   
        
        this.getAllTasks = function () {
            
            var deferred = $q.defer();
            $http.get(baseUrl  + 'tasklist.json').success(function (response) {
                 deferred.resolve(response);
            });
       
            return deferred.promise; 
	};   

}]);