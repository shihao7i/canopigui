angular.module('canopi.service').service('UiGridUtilService', function () {
	'use strict';
	
        
        this.autoColWidth = function (colDefs, row) {
            
            var totalChars = 0;
            
            for (var i = 0; i < row.columnList.length; i++) {
                totalChars += (new String(row.columnList[i].displayName)).length;
            }
            
            for (var i = 0; i < colDefs.length; i++) {
                var numChars = (new String(colDefs[i].displayName)).length;
                if(totalChars > 100) {
                    colDefs[i].width = ( (numChars / totalChars)  * 200) + "%";
                } else {
                    colDefs[i].width = ( (numChars / totalChars)  * 100) + "%";
                }
            }
            
            return colDefs;
        }
        
});

